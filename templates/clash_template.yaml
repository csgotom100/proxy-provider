# ==========================================================
# Clash Meta (Mihomo) å¢å¼ºå‹æ¨¡æ¿
# åŠŸèƒ½ï¼šç¥æœºè§„åˆ™ + è‡ªåŠ¨åˆ†ç‰‡ + TLS åˆ†ç‰‡é€‚é…
# ==========================================================

# åŸºç¡€é…ç½®
port: 7890
socks-port: 7891
mixed-port: 7893
allow-interface-control: false
mode: rule
log-level: info
ipv6: false
external-controller: 127.0.0.1:9090

# DNS é…ç½® (é’ˆå¯¹åˆ†æµä¼˜åŒ–)
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 119.29.29.29
    - 223.5.5.5
  fallback:
    - 8.8.8.8
    - 1.1.1.1

# èŠ‚ç‚¹æ³¨å…¥ç‚¹ (è„šæœ¬ä¼šè‡ªåŠ¨å¡«å……æ­¤å¤„)
proxies: []

# ç­–ç•¥ç»„è®¾è®¡ (ç¥æœºè§„åˆ™é€»è¾‘)
proxy-groups:
  # 1. æ ¸å¿ƒåˆ†æµæ§åˆ¶
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸŒ å‰©ä½™åœ°åŒº
      - DIRECT

  - name: ğŸ“º å›½é™…æµåª’ä½“
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - DIRECT

  - name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - DIRECT

  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  # 2. è‡ªåŠ¨åŒ–åˆ†ç‰‡æ±  (è„šæœ¬ä¼šæŒ‰åœ°ç†ä½ç½®è‡ªåŠ¨åˆ†å‘)
  - name: âš¡ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies: []

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    type: select
    proxies: []

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    type: select
    proxies: []

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    type: select
    proxies: []

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    type: select
    proxies: []

  - name: ğŸŒ å‰©ä½™åœ°åŒº
    type: select
    proxies: []

# 3. ç¥æœºè§„åˆ™åˆ†æµé€»è¾‘ (åŸºäº Domain / IP-CIDR)
rules:
  # æ‹¦æˆªå¹¿å‘Š (ä½¿ç”¨ç¥æœºè§„åˆ™å¸¸ç”¨çš„æ‹¦æˆªåˆ—è¡¨)
  - DOMAIN-KEYWORD,adserver,REJECT
  - DOMAIN-SUFFIX,googleadservices.com,REJECT
  - DOMAIN-SUFFIX,doubleclick.net,REJECT

  # å›½é™…æµåª’ä½“ (Netflix / YouTube / Disney+)
  - DOMAIN-SUFFIX,netflix.com,ğŸ“º å›½é™…æµåª’ä½“
  - DOMAIN-SUFFIX,netflix.net,ğŸ“º å›½é™…æµåª’ä½“
  - DOMAIN-SUFFIX,nflximg.net,ğŸ“º å›½é™…æµåª’ä½“
  - DOMAIN-SUFFIX,googlevideo.com,ğŸ“º å›½é™…æµåª’ä½“
  - DOMAIN-SUFFIX,youtube.com,ğŸ“º å›½é™…æµåª’ä½“
